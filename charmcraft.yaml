# Copyright 2025 Canonical Ltd.
# See LICENSE file for licensing details.

type: charm
name: wireguard-gateway
title: Charm Template
summary: A very short one-line summary of the charm.
links:
  documentation: https://discourse.charmhub.io
  issues: https://github.com/canonical/platform-engineering-charm-template/issues
  source: https://github.com/canonical/platform-engineering-charm-template
  contact: https://launchpad.net/~canonical-is-devops

description: |
  A single sentence that says what the charm is, concisely and memorably.

  A paragraph of one to three short sentences, that describe what the charm does.

  A third paragraph that explains what need the charm meets.

  Finally, a paragraph that describes whom the charm is useful for.


base: ubuntu@24.04
platforms:
  amd64:

parts:
  charm:
    source: .
    plugin: uv
    build-snaps:
      - astral-uv
  templates:
    source: .
    plugin: dump
    stage:
      - templates

provides:
  wireguard-router-a:
    interface: wireguard_router

requires:
  wireguard-router-b:
    interface: wireguard_router

config:
  options:
    tunnels:
      type: int
      default: 2
      description: Number of WireGuard tunnels to create per unit.
    advertise-prefixes:
      type: string
      description: A comma separated list of ipv4 or ipv6 prefixes.